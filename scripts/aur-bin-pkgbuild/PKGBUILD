# Maintainer: X
# Contributor: JordanViknar
pkgname=mcontrolcenter-bin
pkgver=0.3.1
pkgrel=1
pkgdesc="An application that allows you to change the settings of MSI laptops running Linux."
arch=('x86_64')
url="https://github.com/dmitry-s93/MControlCenter"
license=('GPL3')
depends=(
  'qt5-base'
)
conflicts=('mcontrolcenter')
provides=('mcontrolcenter')

source=("https://github.com/dmitry-s93/MControlCenter/releases/download/${pkgver}/MControlCenter-${pkgver}.tar.gz")

sha256sums=('085a03fde36ed7bb0ee1424ba3e1f223c1f6bef1d913d4c85c0bdc85171b3308')

package() {
  app_directory="${srcdir}/MControlCenter-${pkgver}/app"

  install -Dm755 "${app_directory}/mcontrolcenter" "${pkgdir}/usr/bin/mcontrolcenter"
  install -Dm644 "${app_directory}/mcontrolcenter.desktop" "${pkgdir}/usr/share/applications/mcontrolcenter.desktop"
  install -Dm644 "${app_directory}/mcontrolcenter.svg" "${pkgdir}/usr/share/icons/hicolor/scalable/apps/mcontrolcenter.svg"
  install -Dm755 "${app_directory}/mcontrolcenter-helper" "${pkgdir}/usr/libexec/mcontrolcenter-helper"
  install -Dm644 "${app_directory}/mcontrolcenter-helper.conf" "${pkgdir}/usr/share/dbus-1/system.d/mcontrolcenter-helper.conf"
  install -Dm644 "${app_directory}/mcontrolcenter.helper.service" "${pkgdir}/usr/share/dbus-1/system-services/mcontrolcenter.helper.service"
}
